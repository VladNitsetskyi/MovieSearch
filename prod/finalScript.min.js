"use strict";function movieDetails(t){var s=new XMLHttpRequest;s.open("GET","http://www.omdbapi.com/?i="+t+"&apikey=bc855c27"),s.timeout=0,s.onload=function(t){if(4===s.readyState)if(200===s.status){var n=JSON.parse(s.responseText);console.log(n);var o='\n\t\t\t        <div class="row">\n\t\t\t          <div class="col-md-4">\n\t\t\t            <img src="'+n.Poster+'" class="thumbnail" onerror = this.src="img/Clapboard.png">\n\t\t\t          </div>\n\t\t\t          <div class="col-md-8">\n\t\t\t            <h2>'+n.Title+'</h2>\n\t\t\t            <ul class="list-group">\n\t\t\t              <li class="list-group-item"><strong>Genre:</strong> '+n.Title+'</li>\n\t\t\t              <li class="list-group-item"><strong>Released:</strong> '+n.Released+'</li>\n\t\t\t              <li class="list-group-item"><strong>Rated:</strong> '+n.Rated+'</li>\n\t\t\t              <li class="list-group-item"><strong>IMDB Rating:</strong> '+n.imdbRating+'</li>\n\t\t\t              <li class="list-group-item"><strong>Director:</strong> '+n.Director+'</li>\n\t\t\t              <li class="list-group-item"><strong>Writer:</strong> '+n.Writer+'</li>\n\t\t\t              <li class="list-group-item"><strong>Actors:</strong> '+n.Actors+'</li>\n\t\t\t            </ul>\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t        <div class="row" id = "plotModal">\n\t\t\t          <div class="well">\n\t\t\t            <h3>Plot</h3>\n\t\t\t            '+n.Plot+'\n\t\t\t            <hr>\n\t\t\t            <a href="http://imdb.com/title/'+n.imdbID+'" target="_blank" class="btn btn-primary">View IMDB</a>\n\t\t\t            \n\t\t\t          </div>\n\t\t\t        </div>\n\t\t        ';$("#movies2").html(o)}else console.error(s.statusText)},s.onerror=function(t){console.error(s.statusText)},s.ontimeout=function(t){$("#movies2").html('\n\t\t\t        <div class="row">\n\t\t\t          <div class="col-md-4">\n\t\t\t            <p> Sorry, there is no info regards this movie <p>\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t        ')},s.send(),$("#myModal").css("display","block"),$(".close").on("click",function(){$("#myModal").css("display","none"),$("#movies2").html("")}),window.onclick=function(t){t.target==document.getElementById("myModal")&&$("#myModal").css("display","none")}}function drawResult(o){var s="";o.forEach(function(t,n){s+='\n\t\t\t<div class="col-md-3">\n\t\t\t\t<div class="well text-center">\n\t\t\t\t\t<img src="'+o[n].Poster+'" onerror=this.src="img/Clapboard.png">\n\t\t\t\t\t<h5>'+o[n].Title+'</h5>\n\t\t\t\t\t<a href="#" id = "myBtn" class = "btn btn-primary" onclick = "movieDetails(\''+o[n].imdbID+"')\">Movie Details</a>\n\t\t\t\t</div>\n\t\t\t</div>\n    \t"}),$("#movies").html(s)}function getMovie(t){var o=new XMLHttpRequest;o.open("GET","http://www.omdbapi.com/?s="+t+"&apikey=bc855c27"),o.timeout=5e3,o.onload=function(t){if(4===o.readyState)if(200===o.status){var n=JSON.parse(o.responseText).Search;console.log(n),drawResult(n)}else console.error(o.statusText)},o.onerror=function(t){console.error(o.statusText)},o.ontimeout=function(t){console.log("API didnt work")},o.send()}$(document).ready(function(){$("form").on("submit",function(t){getMovie($("#userInput").val()),t.preventDefault()})});